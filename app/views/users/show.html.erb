<%= render "users/profile_header", user: @user %>
<div class="d-flex justify-content-center align-items-center">
    <div class="w-content border-2 border-top border-dark">
        <small>Твіти</small>
    </div>
</div>
<div class="d-flex flex-column gap-3 justify-content-center align-items-center">
    <% if @user == current_user %>
        <% @user.twits.each do |twit| %>
            <div class="my-3" id="<%= dom_id twit %>">
                <div class="card" style="width: 25rem;">
                    <div class="card-header bg-white" style="border-color: transparent;">
                        <div class="d-flex justify-content-between">
                            <div style="width:60%">
                            <% if twit.user.profile_pic.attached? %>
                                <%= image_tag twit.user.profile_pic, class: "img-thumbnail rounded-circle", style: "width: 20%" %>
                            <% else %>
                                <%= image_tag 'default_avatar.png', class: "img-thumbnail rounded-circle", style: "width: 20%" %>
                            <% end %>
                            <span class="fw-bold mx-2"><%= twit.user.username %></span>
                            </div>
                            <%= link_to "Редагувати твіт", edit_twit_path(twit), style: "text-decoration: none;" %>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="card-text"><%= twit.caption %></p>
                        <div>
                            <% if twit.images.attached? %>
                            <%= image_tag twit.images, class: "d-block w-100" %>
                            <% end %>
                        </div>
                    </div>
                    <div class="card-footer bg-white d-flex flex-column gap-0">
                        <small class="text-muted my-2" style="margin-left: 7.5px"> <%= time_ago_in_words(twit.created_at) %> </small>
                        <%= button_to "Видалити твіт", twit, method: :delete, class:"edit_twit_link text-muted bg-white", style:"text-color: red; border: none;" %>
                    </div>
                </div>
            </div>
        <% end %>
    <% else %>
        <% @user.twits.each do |twit| %>
            <div class="my-3" id="<%= dom_id twit %>">
                <div class="card" style="width: 25rem;">
                    <div class="card-header bg-white" style="border-color: transparent;">
                        <div class="d-flex justify-content-between">
                            <div style="width:60%">
                            <% if twit.user.profile_pic.attached? %>
                                <%= image_tag twit.user.profile_pic, class: "img-thumbnail rounded-circle", style: "width: 20%" %>
                            <% else %>
                                <%= image_tag 'default_avatar.png', class: "img-thumbnail rounded-circle", style: "width: 20%" %>
                            <% end %>
                            <span class="fw-bold mx-2"><%= twit.user.username %></span>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <p class="card-text"><%= twit.caption %></p>
                        <div>
                            <% if twit.images.attached? %>
                            <%= image_tag twit.images, class: "d-block w-100" %>
                            <% end %>
                        </div>
                    </div>
                    <div class="card-footer bg-white d-flex flex-column gap-0">
                        <small class="text-muted my-2" style="margin-left: 7.5px"> <%= time_ago_in_words(twit.created_at) %> </small>
                    </div>
                </div>
            </div>
        <% end %>
    <% end %>
</div>